<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batalha de Rob√¥s - SHURA vs Oponente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            background-color: #343a40;
            color: white;
        }

        .robot-container {
            text-align: center;
            margin-bottom: 2rem;
        }

        .robot-name {
            font-size: 1.8rem;
            margin-top: 0.5rem;
        }

        .winner {
            color: gold;
        }

        .hp-bar {
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .hp {
            background-color: #28a745;
            height: 24px;
            width: 100%;
            text-align: center;
            color: white;
            transition: width 0.5s ease;
        }

        #battleLog {
            font-size: 1.2rem;
            margin-top: 1rem;
            min-height: 50px;
        }

        .attack-animation {
            position: absolute;
            font-size: 3rem;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            animation: attackEffect 1s forwards;
        }

        @keyframes attackEffect {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0);
            }

            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0);
            }
        }

        .defense-animation {
            position: absolute;
            font-size: 3rem;
            top: 20%;
            right: 50%;
            transform: translate(50%, -50%);
            opacity: 0;
            animation: defenseEffect 1s forwards;
        }

        @keyframes defenseEffect {
            0% {
                opacity: 1;
                transform: translate(50%, -50%) scale(0);
            }

            50% {
                opacity: 1;
                transform: translate(50%, -50%) scale(1.2);
            }

            100% {
                opacity: 0;
                transform: translate(50%, -50%) scale(0);
            }
        }

        .controls {
            display: none;
        }

        .battle-active .controls {
            display: inline-block;
        }
    </style>
</head>

<body>
    <div class="container my-5 battle-container">
        <h1 class="text-center">Batalha de Rob√¥s</h1>
        <div class="row justify-content-center mb-4">
            <div class="col-md-6 text-center">
                <label for="opponentName" class="form-label">Nome do Oponente:</label>
                <input type="text" id="opponentName" class="form-control" placeholder="Digite o nome do oponente">
            </div>
            <div class="col-md-6 text-center">
                <button id="startBattle" class="btn btn-primary mt-4">Iniciar Batalha</button>
            </div>
        </div>

        <div class="row text-center mt-5">
            <div class="col-md-6">
                <div class="robot-container">
                    <i class="fas fa-robot fa-7x"></i>
                    <div class="robot-name">SHURA</div>
                    <div class="hp-bar">
                        <div class="hp" id="shuraHp">200 HP</div>
                    </div>
                    <div class="controls">
                        <button id="attackBtn" class="btn btn-danger">Atacar</button>
                    </div>
                    <i class="fas fa-sword attack-animation" id="shuraAttackAnimation"></i>
                    <i class="fas fa-shield-alt defense-animation" id="shuraDefenseAnimation"></i>
                </div>
            </div>
            <div class="col-md-6">
                <div class="robot-container">
                    <i class="fas fa-robot fa-7x"></i>
                    <div class="robot-name" id="opponentNameDisplay">Oponente</div>
                    <div class="hp-bar">
                        <div class="hp" id="opponentHp">200 HP</div>
                    </div>
                    <i class="fas fa-sword attack-animation" id="opponentAttackAnimation"></i>
                    <i class="fas fa-shield-alt defense-animation" id="opponentDefenseAnimation"></i>
                </div>
            </div>
        </div>

        <div id="battleLog" class="text-center my-4"></div>

        <div class="text-center mt-5">
            <button id="resetBattle" class="btn btn-warning d-none">Reiniciar Batalha</button>
        </div>
    </div>

    <script>
        let shuraHp = 200;
        let opponentHp = 200;
        let isBattleActive = false;

        const opponentNameInput = document.getElementById('opponentName');
        const opponentNameDisplay = document.getElementById('opponentNameDisplay');
        const shuraHpDisplay = document.getElementById('shuraHp');
        const opponentHpDisplay = document.getElementById('opponentHp');
        const battleLog = document.getElementById('battleLog');
        const resetBattleBtn = document.getElementById('resetBattle');
        const shuraAttackAnimation = document.getElementById('shuraAttackAnimation');
        const shuraDefenseAnimation = document.getElementById('shuraDefenseAnimation');
        const opponentAttackAnimation = document.getElementById('opponentAttackAnimation');
        const opponentDefenseAnimation = document.getElementById('opponentDefenseAnimation');
        const controls = document.querySelectorAll('.controls');

        document.getElementById('startBattle').addEventListener('click', () => {
            const opponentName = opponentNameInput.value.trim();
            if (!opponentName) {
                alert('Por favor, insira o nome do oponente!');
                return;
            }
            opponentNameDisplay.textContent = opponentName;
            isBattleActive = true;
            battleLog.textContent = 'A batalha come√ßou! Prepare-se para a a√ß√£o √©pica!';
            opponentNameInput.disabled = true;

            controls.forEach(control => control.style.display = 'inline-block');
            document.getElementById('startBattle').style.display = 'none';
        });

        document.getElementById('attackBtn').addEventListener('click', () => {
            if (!isBattleActive) return;

            const shuraAttack = Math.floor(Math.random() * 40) + 10;
            const opponentAction = Math.random() > 0.5 ? 'defend' : 'attack';
            let opponentDefense = 0;

            shuraAttackAnimation.style.opacity = '1';
            setTimeout(() => {
                shuraAttackAnimation.style.opacity = '0';
            }, 1000);

            if (opponentAction === 'defend') {
                opponentDefense = Math.floor(Math.random() * 20) + 5;
                battleLog.innerHTML = `üí• SHURA lan√ßou um ataque devastador de ${shuraAttack} pontos!<br>üí™ ${opponentNameDisplay.textContent} se defendeu bravamente, reduzindo o dano em ${opponentDefense} pontos.`;
            } else {
                battleLog.innerHTML = `üí• SHURA desferiu um golpe poderoso de ${shuraAttack} pontos!<br>‚ö° ${opponentNameDisplay.textContent} foi atingido diretamente!`;
            }

            opponentHp -= Math.max(0, shuraAttack - opponentDefense);
            updateHpBars();

            opponentTurn();
        });

        function opponentTurn() {
            if (!isBattleActive) return;

            const opponentAttack = Math.floor(Math.random() * 40) + 10;
            const shuraDefense = Math.floor(Math.random() * 20) + 5;
            const opponentAction = Math.random() > 0.5 ? 'defend' : 'attack';

            if (opponentAction === 'attack') {
                shuraHp -= Math.max(0, opponentAttack - shuraDefense);
                battleLog.innerHTML += `<br>‚öîÔ∏è ${opponentNameDisplay.textContent} atacou ferozmente com ${opponentAttack} pontos!<br>üõ°Ô∏è SHURA se defendeu, reduzindo o dano em ${shuraDefense} pontos.`;
                opponentAttackAnimation.style.opacity = '1';
                setTimeout(() => {
                    opponentAttackAnimation.style.opacity = '0';
                }, 1000);
            } else {
                battleLog.innerHTML += `<br>‚ö° ${opponentNameDisplay.textContent} tentou um ataque, mas SHURA se defendeu com sucesso, evitando qualquer dano!`;
            }

            updateHpBars();
        }

        function updateHpBars() {
            shuraHpDisplay.textContent = `${shuraHp} HP`;
            opponentHpDisplay.textContent = `${opponentHp} HP`;

            document.getElementById('shuraHp').style.width = `${(shuraHp / 200) * 100}%`;
            document.getElementById('opponentHp').style.width = `${(opponentHp / 200) * 100}%`;

            if (shuraHp <= 0) {
                battleLog.innerHTML += '<br>üö´ SHURA foi derrotado! A batalha terminou.';
                endBattle();
            } else if (opponentHp <= 0) {
                battleLog.innerHTML += '<br>üèÜ Oponente foi derrotado! üéâ SHURA venceu!';
                endBattle();
            }
        }

        function endBattle() {
            isBattleActive = false;
            document.getElementById('attackBtn').style.display = 'none';
            resetBattleBtn.classList.remove('d-none');
        }

        resetBattleBtn.addEventListener('click', () => {
            location.reload();
        });
    </script>
</body>

</html>